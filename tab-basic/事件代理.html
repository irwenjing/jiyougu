<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>事件代理</title>
	<style type="text/css">
		.container{
			margin: 30px auto;
			width: 900px;
			background: pink;
		}
		ul,li{
			margin: 0;
			padding: 0;
			list-style: none;
		}
		.container li{
			border: 1px solid #ccc;
			line-height: 1.5;
			margin-right: 30px;
		}
		#show{
			background: #ccc ;
		}
	</style>
</head>
<body>
	<div class='container'>

		<ul>
			<li>aa</li>
			<li>bb</li>
			<li>cc</li>
			<li>dd</li>
		</ul>

		<input type="text" id="add-ipt"><button id='btn'>添加</button>
		<div id="show"></div>


	</div>



	<script type="text/javascript">
		var liNodes = document.querySelectorAll('.container li')
		var showNode = document.querySelector('#show')
		var addNode = document.querySelector('#btn')
		var addIpt = document.querySelector('#add-ipt')
		var container = document.querySelector('.container ul')


		/*

		liNodes.forEach(function(node){
			console.log(node)
			node.addEventListener('click', function(){
				showNode.innerText = this.innerText
			})
		})

		addNode.addEventListener('click', function(){
			var node = document.createElement('li')
			node.innerText = addIpt.value
			node.addEventListener('click', function(){
				showNode.innerText = this.innerText
			})
			container.appendChild(node)
		})

		*/

		//事件代理写法（本质：利用事件冒泡把事件监听绑定到容器上）
		//事件代理的应用场景:就是你的页面上会有一些新增的元素，这些新增的元素还是需要绑定事件的。


		container.addEventListener('click', function(e){
			var target = e.target
			if(target.tagName.toLowerCase() ==='li'){
				showNode.innerText = target.innerText
			}
		})

		addNode.addEventListener('click', function(){
			var node = document.createElement('li')
			node.innerText = addIpt.value
			container.appendChild(node)
		})












	</script>









</body>
</html>